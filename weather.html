<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<title>Seminario Gráfica Computacional I 2018, Primer Semestre → Clase 1 → Viernes 16 de marzo</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
  integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
  crossorigin=""></script>
<link href="style.css" rel="stylesheet">
</head>
<body>
<div class="container">
	<div class="row">
        
		<div class="col-sm-4 py-5">
			<h1>Milan
            <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans+Condensed:700" rel="stylesheet">
            </h1>
            
            <h2>Capital económica e industrial de Italia</h2>
                
            <p class="lol">Milán (en italiano: Milano, y en dialecto milanés: Milàn) es la mayor Área Metropolitana de Italia y el segundo municipio de Italia por población, capital de la Ciudad metropolitana de Milán y de la región de Lombardía. Se encuentra ubicada en la llanura padana, una de las regiones más desarrolladas de Italia. En 2008, el PIB de Lombardía, fue estimado por el INSEE en 366 mil millones de euros, el segundo de Europa después de la región de Isla de Francia.</p>
                
            
        </div>
        <div class="col-sm-8 py-5">
            
            <div id="mapid"></div>
        </div>
        <div class="col-sm-12 py-5">
			<p>Milan is considered a leading alpha global city, with strengths in the field of the art, commerce, design, education, entertainment, fashion, finance, healthcare, media, services, research, and tourism. Its business district hosts Italy's Stock Exchange and the headquarters of national and international banks and companies. In terms of GDP, it has the third-largest economy among European cities and the wealthiest among European non-capital cities. Milan is considered part of the Blue Banana and one of the "Four Motors for Europe."</p>
			
		</div>
		<div class="col-sm-12" style="border-top:1px solid #eee;">
			<div class="row pt-3 pb-4 small">
				<div class="col-sm-3">
					<p><a href="index.html">Volver</a></p>
				</div>
				<div class="col-sm-9  text-right">
					<p>Seminario Gráfica Computacional I 2018, Primer Semestre → Clase 2 → Viernes 23 de marzo</p>
				</div>
			</div>		
		</div>
	</div>
</div>
<script>
var urlStart = "https://api.openweathermap.org/data/2.5/weather";
var urlCity = 6542283;
var urlUnit = "metric";
var urlApiKey = "823c5b113fb03562cbfbabb1402fe7f2";
var url = urlStart + "?id=" + urlCity + "&units=" + urlUnit + "&appid=" + urlApiKey
    
    
var request = new XMLHttpRequest();
request.open('GET', url, true);
request.onload = function () {
  var data = JSON.parse(this.response);
  var lat = data.coord.lat;
  var lon = data.coord.lon;
  var ciudad = data.name;
  var humedad = data.main.humidity;
  var temperatura = Math.round(data.main.temp);

  console.log(data);
  console.log(lat);
  console.log(lon);
  console.log(ciudad);
  console.log(humedad + "%");
  console.log(temperatura + "º C");
    
    if(temperatura >= 25){
        document.body.style.backgroundColor = "#990000"
    }
    else if(temperatura >= 15 && 24){
        document.body.style.backgroundColor = "#33cc33"
    }     
    else{
        document.body.style.backgroundColor = "#B4D2FC"
    }
    
  //mapa
	var mymap = L.map('mapid').setView([lat, lon], 15);
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 20,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' + 'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);
	L.marker([lat, lon]).addTo(mymap)
	.bindPopup("<h5>"+ ciudad + "</h5><p>Hay " + temperatura + "ºC, con " + humedad + "% de humedad<p>").openPopup();
}
request.send();
</script>
</body>
</html>

